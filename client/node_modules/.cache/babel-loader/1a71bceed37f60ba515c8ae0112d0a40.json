{"ast":null,"code":"var _jsxFileName = \"/Users/a123123/Documents/Dev/teamProject_4-1/SLIRI/client/src/components/MPHands.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Hands } from \"@mediapipe/hands\";\nimport { Camera } from \"@mediapipe/camera_utils\";\nimport Webcam from \"react-webcam\";\nimport drawUtils from '@mediapipe/drawing_utils'; // eslint-disable-next-line\n\nimport { useRef, useEffect } from 'react';\nimport axios from 'axios';\nlet num = 0;\n\nconst MPHands = () => {\n  _s();\n\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  function onResults(results) {\n    // eslint-disable-next-line\n    let timerId = setInterval(() => {\n      const r1 = results['multiHandLandmarks'][0];\n      const r2 = results['multiHandWorldLandmarks'][0];\n      const r3 = results['multiHandedness'][0]; // eslint-disable-next-line\n\n      const response = axios.get(\"http://localhost:5000/myhand\", {\n        params: {\n          num: num,\n          hands1: r1,\n          hands2: r2,\n          hands3: r3\n        }\n      }); // console.log(response);\n      // console.log(response.data);\n\n      console.log(results);\n      num++;\n    }, 2000); //setting height, width of Canvas\n\n    canvasRef.current.width = webcamRef.current.video.videoWidth;\n    canvasRef.current.height = webcamRef.current.video.videoHeight;\n    const canvasElement = canvasRef.current;\n    const canvasCtx = canvasElement.getContext(\"2d\");\n    canvasCtx.clearRect(0, 0, canvasElement.wdith, canvasElement.height);\n    canvasCtx.drawImage(results.image, 0, 0, canvasElement.width, canvasElement.height);\n\n    if (results.multiHandLandmarks) {\n      for (const landmarks of results.multiHandLandmarks) {\n        drawUtils.drawConnectors(canvasCtx, landmarks, Hands.HAND_CONNECTIONS, {\n          color: '#00FF00',\n          lineWidth: 5\n        });\n        drawUtils.drawLandmarks(canvasCtx, landmarks, {\n          color: '#FF0000',\n          lineWidth: 2\n        });\n      }\n    }\n\n    canvasCtx.restore();\n  }\n\n  useEffect(() => {\n    const hands = new Hands({\n      locateFile: file => {\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n      }\n    });\n    hands.setOptions({\n      maxNumHands: 2,\n      modelComplexity: 1,\n      minDetectionConfidence: 0.5,\n      minTrackingConfidence: 0.5,\n      selfieMode: true\n    });\n    hands.onResults(onResults);\n\n    if (typeof webcamRef.current != \"undefined\" && webcamRef.current != null) {\n      const camera = new Camera(webcamRef.current.video, {\n        onFrame: async () => {\n          await hands.send({\n            image: webcamRef.current.video\n          });\n        },\n        width: 640,\n        height: 480\n      });\n      camera.start();\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Webcam, {\n    ref: webcamRef,\n    style: {\n      position: \"absolute\",\n      marginRight: \"auto\",\n      marginLeft: \"auto\",\n      left: 0,\n      right: 0,\n      textAlign: \"center\",\n      zIndex: 9,\n      width: 640,\n      height: 480\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      position: \"absolute\",\n      marginRight: \"auto\",\n      marginLeft: \"auto\",\n      left: 0,\n      right: 0,\n      textAlign: \"center\",\n      zIndex: 9,\n      width: 640,\n      height: 480\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }));\n};\n\n_s(MPHands, \"v4cpjlVQ0JCDZnPWaD3Z9DHNiTM=\");\n\n_c = MPHands;\nexport default MPHands;\n\nvar _c;\n\n$RefreshReg$(_c, \"MPHands\");","map":{"version":3,"names":["React","Hands","Camera","Webcam","drawUtils","useRef","useEffect","axios","num","MPHands","webcamRef","canvasRef","onResults","results","timerId","setInterval","r1","r2","r3","response","get","params","hands1","hands2","hands3","console","log","current","width","video","videoWidth","height","videoHeight","canvasElement","canvasCtx","getContext","clearRect","wdith","drawImage","image","multiHandLandmarks","landmarks","drawConnectors","HAND_CONNECTIONS","color","lineWidth","drawLandmarks","restore","hands","locateFile","file","setOptions","maxNumHands","modelComplexity","minDetectionConfidence","minTrackingConfidence","selfieMode","camera","onFrame","send","start","position","marginRight","marginLeft","left","right","textAlign","zIndex"],"sources":["/Users/a123123/Documents/Dev/teamProject_4-1/SLIRI/client/src/components/MPHands.js"],"sourcesContent":["import React from \"react\";\nimport { Hands } from \"@mediapipe/hands\";\nimport {Camera} from \"@mediapipe/camera_utils\";\nimport Webcam from \"react-webcam\";\nimport drawUtils from '@mediapipe/drawing_utils';\n// eslint-disable-next-line\nimport {useRef, useEffect} from 'react';\nimport axios from 'axios';\n\nlet num = 0;\n\nconst MPHands = () => {\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  function onResults(results){\n\n    // eslint-disable-next-line\n    let timerId = setInterval(() => {\n    const r1 = results['multiHandLandmarks'][0];\n    const r2 = results['multiHandWorldLandmarks'][0];\n    const r3 = results['multiHandedness'][0];\n\n    // eslint-disable-next-line\n    const response = axios.get(\"http://localhost:5000/myhand\", {params:{num:num, hands1:r1, hands2:r2, hands3:r3}});\n    // console.log(response);\n    // console.log(response.data);\n\n    console.log(results);\n    num++;\n    \n  }, 2000);\n\n    //setting height, width of Canvas\n    canvasRef.current.width = webcamRef.current.video.videoWidth;\n    canvasRef.current.height = webcamRef.current.video.videoHeight;\n\n    const canvasElement = canvasRef.current;\n    const canvasCtx = canvasElement.getContext(\"2d\");\n    canvasCtx.clearRect(0, 0, canvasElement.wdith, canvasElement.height);\n    canvasCtx.drawImage(\n      results.image, 0, 0, canvasElement.width, canvasElement.height);\n      if (results.multiHandLandmarks) {\n        for (const landmarks of results.multiHandLandmarks) {\n          drawUtils.drawConnectors(canvasCtx, landmarks, Hands.HAND_CONNECTIONS, {color: '#00FF00', lineWidth: 5});\n          drawUtils.drawLandmarks(canvasCtx, landmarks, {color: '#FF0000', lineWidth: 2});\n        }\n      }\n      canvasCtx.restore();\n  }\n\n  useEffect(() => {\n    const hands = new Hands({\n      locateFile : (file) => {\n        return `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\n      }\n    })\n    hands.setOptions({\n      maxNumHands: 2,\n      modelComplexity: 1,\n      minDetectionConfidence: 0.5,\n      minTrackingConfidence: 0.5,\n      selfieMode: true\n    })\n    hands.onResults(onResults);\n\n    if(typeof webcamRef.current != \"undefined\" && webcamRef.current != null){\n      const camera = new Camera(webcamRef.current.video, {\n        onFrame: async() => {\n          await hands.send({image:webcamRef.current.video})\n        },\n        width: 640,\n        height: 480\n      });\n      camera.start();\n    }\n  });\n\n    return (\n    <>\n      <Webcam\n        ref={webcamRef}\n        style={{\n            position: \"absolute\",\n            marginRight: \"auto\",\n            marginLeft: \"auto\",\n            left: 0,\n            right: 0,\n            textAlign: \"center\",\n            zIndex: 9,\n            width: 640,\n            height: 480\n        }}\n      />\n    <canvas\n      ref={canvasRef}\n      style={{\n        position: \"absolute\",\n        marginRight: \"auto\",\n        marginLeft: \"auto\",\n        left: 0,\n        right: 0,\n        textAlign: \"center\",\n        zIndex: 9,\n        width: 640,\n        height: 480\n      }}\n    >\n    </canvas>\n        </>\n    )\n}\n\nexport default MPHands;"],"mappings":"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"},"metadata":{},"sourceType":"module"}